<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="fr-FR" xml:lang="fr-FR" >

<head>
<meta charset="utf-8" />
<meta name="generator" content="pandoc" />
<meta name="description" content="Aide à l’utilisation et à la configuration de Cosma" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
<meta name="author" content="Guillaume Brioudes https://myllaume.fr/" />
<meta name="author" content="Arthur Perret https://www.arthurperret.fr/" />
<meta name="dcterms.date" content="2021-05-03" />
<title>Manuel d’utilisation de Cosma</title>

<link rel="stylesheet" href="style.css" />

</head>

<body>


<nav id="TOC" role="doc-toc">
<ul>
<li><a href="#presentation"><span class="toc-section-number">1</span> Présentation</a>
<ul>
<li><a href="#interoperabilite"><span class="toc-section-number">1.1</span> Interopérabilité</a></li>
<li><a href="#portabilite"><span class="toc-section-number">1.2</span> Portabilité</a></li>
<li><a href="#modularite"><span class="toc-section-number">1.3</span> Modularité</a></li>
</ul></li>
<li><a href="#vocabulaire"><span class="toc-section-number">2</span> Vocabulaire</a></li>
<li><a href="#installation"><span class="toc-section-number">3</span> Installation</a>
<ul>
<li><a href="#pre-requis"><span class="toc-section-number">3.1</span> Pré-requis</a></li>
<li><a href="#telechargement"><span class="toc-section-number">3.2</span> Téléchargement</a></li>
<li><a href="#mise-en-route"><span class="toc-section-number">3.3</span> Mise en route</a></li>
</ul></li>
<li><a href="#configuration"><span class="toc-section-number">4</span> Configuration</a>
<ul>
<li><a href="#parametres-necessaires"><span class="toc-section-number">4.1</span> Paramètres nécessaires</a></li>
<li><a href="#parametres-facultatifs"><span class="toc-section-number">4.2</span> Paramètres facultatifs</a></li>
<li><a href="#exemples-de-configuration"><span class="toc-section-number">4.3</span> Exemples de configuration</a></li>
<li><a href="#commandes"><span class="toc-section-number">4.4</span> Commandes</a></li>
</ul></li>
<li><a href="#utilisation-du-cosmographe"><span class="toc-section-number">5</span> Utilisation du cosmographe</a>
<ul>
<li><a href="#creer-des-fiches"><span class="toc-section-number">5.1</span> Créer des fiches</a></li>
<li><a href="#creer-des-liens"><span class="toc-section-number">5.2</span> Créer des liens</a></li>
<li><a href="#export"><span class="toc-section-number">5.3</span> Export</a></li>
</ul></li>
<li><a href="#utilisation-du-cosmoscope"><span class="toc-section-number">6</span> Utilisation du cosmoscope</a>
<ul>
<li><a href="#graphe"><span class="toc-section-number">6.1</span> Graphe</a>
<ul>
<li><a href="#navigation"><span class="toc-section-number">6.1.1</span> Navigation</a></li>
</ul></li>
<li><a href="#index"><span class="toc-section-number">6.2</span> Index</a></li>
<li><a href="#moteur-de-recherche"><span class="toc-section-number">6.3</span> Moteur de recherche</a></li>
<li><a href="#filtres"><span class="toc-section-number">6.4</span> Filtres</a></li>
<li><a href="#mots-cles"><span class="toc-section-number">6.5</span> Mots-clés</a></li>
<li><a href="#vues"><span class="toc-section-number">6.6</span> Vues</a></li>
<li><a href="#parametres-du-graphe"><span class="toc-section-number">6.7</span> Paramètres du graphe</a></li>
<li><a href="#fiches"><span class="toc-section-number">6.8</span> Fiches</a>
<ul>
<li><a href="#liens"><span class="toc-section-number">6.8.1</span> Liens</a></li>
<li><a href="#focus"><span class="toc-section-number">6.8.2</span> Focus</a></li>
</ul></li>
</ul></li>
<li><a href="#credits"><span class="toc-section-number">7</span> Crédits</a>
<ul>
<li><a href="#equipe"><span class="toc-section-number">7.1</span> Équipe</a></li>
<li><a href="#bibliotheques-utilisees"><span class="toc-section-number">7.2</span> Bibliothèques utilisées</a></li>
<li><a href="#historique-du-projet"><span class="toc-section-number">7.3</span> Historique du projet</a></li>
</ul></li>
</ul>
</nav>

<main>
<article>
<h1 class="title">Manuel d’utilisation de Cosma</h1>
<p>Cosma est un logiciel de visualisation de graphe documentaire. Il permet de représenter des notes interreliées sous la forme d’un réseau interactif dans une interface web. Le logiciel est conçu pour fonctionner avec des fichiers texte en Markdown et s’adapte aussi bien à une petite collection (centaine de documents) qu’à une vaste documentation (jusqu’à plusieurs milliers de documents). Il permet de produire différents types de documents : carnets de notes, Zettelkasten, wikis.</p>
<p>Cosma est développé dans le cadre du programme de recherche ANR <a href="https://hyperotlet.hypotheses.org/">HyperOtlet</a>.</p>
<p>Bienvenue sur le manuel d’utilisation de Cosma. C’est le guide complet pour exploiter tout le potentiel de l’interface de Cosma. Les personnes souhaitant modifier cette interface et le fonctionnement du logiciel seront également interessées par la <a href="#">documentation de développement</a>.</p>
<div class="sommaire">
<ol>
<li><a href="#presentation">Présentation</a></li>
<li><a href="#installation">Installation</a></li>
<li><a href="#configuration">Configuration</a></li>
<li><a href="#utilisation-du-cosmographe">Utilisation du cosmographe</a></li>
<li><a href="#utilisation-du-cosmoscope">Utilisation du cosmoscope</a></li>
<li><a href="#credits">Crédits</a></li>
</ol>
</div>
<h1 data-number="1" id="presentation"><span class="header-section-number">1</span> Présentation</h1>
<p>Le logiciel repose sur trois principes : l’interopérabilité, la portabilité et la modularité.</p>
<h2 data-number="1.1" id="interoperabilite"><span class="header-section-number">1.1</span> Interopérabilité</h2>
<p>Cosma fonctionne avec un répertoire de fichiers au format texte. Vous gardez le contrôle total de cet espace. Les logiciels s’envolent mais les données restent. Utiliser ou désinstaller Cosma n’altérera pas vos fichiers. Ils restent à la disposition de votre explorateur, d’autres outils de gestion de fichiers (synchronisation <em>cloud</em>, versionnement Git) et d’édition de texte.</p>
<p>Installez Cosma, indiquez-lui où sont vos fichiers et continuez à travailler avec votre éditeur de texte favori. Cosma ne prescrit pas de logiciel d’écriture, mais son fonctionnement repose sur l’adoption simultanée de plusieurs normes d’écriture qui visent à accroître l’interopérabilité et la pérennité des données :</p>
<ul>
<li>YAML pour la configuration du logiciel et les métadonnées des fichiers ;</li>
<li>Markdown pour le contenu des fichiers ;</li>
<li>une syntaxe de type wiki (doubles crochets <code>[[ ]]</code>) pour créer des liens internes ;</li>
<li>des identifiants uniques qui servent de cibles aux liens internes.</li>
</ul>
<p>Cet ensemble de normes correspond à l’intersection de plusieurs cultures textuelles : documentation, wikis, prise de notes avec la méthode Zettelkasten ou encore écriture académique avec Pandoc. Les environnements d’écriture qui partagent cette approche fonctionnent particulièrement bien en tandem avec Cosma.</p>
<p>Exemples :</p>
<ul>
<li>l’éditeur Markdown <a href="https://zettlr.com">Zettlr</a> ;</li>
<li>l’extension <a href="https://foambubble.github.io/foam/">Foam</a> pour les éditeurs Visual Studio Code et VSCodium.</li>
</ul>
<h2 data-number="1.2" id="portabilite"><span class="header-section-number">1.2</span> Portabilité</h2>
<p>Cosma se divise en deux parties :</p>
<ul>
<li>le <strong>cosmographe</strong>, une interface de fabrication ;</li>
<li>le <strong>cosmoscope</strong>, une interface de visualisation embarqué.</li>
</ul>
<p>Le <strong>cosmographe</strong> est un logiciel basé sur NodeJS qui inclut deux fonctionnalités principales. La première consiste à faciliter la création de documents aux normes de Cosma via un formulaire. La seconde consiste à lire un répertoire de documents, le modéliser sous la forme de données au format JSON, et générer un <strong>cosmoscope</strong> à partir de ces données et d’outils intégrés.</p>
<!-- Capture d'écran -->
<p>Le <strong>cosmoscope</strong> est un fichier HTML à ouvrir avec un navigateur web. Il contient une visualisation interactive sous forme de graphe du répertoire de documents analysé par le <strong>cosmographe</strong>. Il propose de nombreuses fonctionnalités autour de cette visualisation : index, moteur de recherche, filtres d’affichage, enregistrement de vues, paramétrage de l’algorithme de dessin, affichage des documents avec liste des liens et rétroliens, etc.</p>
<!-- Capture d'écran -->
<p>Ce fichier HTML se suffit à lui-même : il contient à la fois les données et les outils, sans dépendance à d’autres logicielle. Par conséquent, vous pouvez partager un cosmoscope aussi facilement que n’importe quelle pièce jointe, l’utiliser hors connexion ou encore le déposer sur un serveur web pour le rendre public. Cosma stocke une copie de chaque cosmoscope généré dans un répertoire sur votre machine pour dresser un historique de vos export.</p>
<h2 data-number="1.3" id="modularite"><span class="header-section-number">1.3</span> Modularité</h2>
<p>Le <strong>cosmoscope</strong> contient l’ensemble des données issues du processus de modélisation. Il s’agit de la liste des fichiers qu’il a analysé, mais aussi toutes les relations qu’il a pu analyser. Ces données sont à votre disposition pour que vous puissiez les réutiliser.</p>
<p>Séparer le traitement des données (cosmographe) de leur modélisation (cosmoscope) comme nous vous le proposons vous permet de créer votre propre visualisation à partir des données générées, mais aussi en modifiant le logiciel. Les code source a été intégré et <a href="#">documenté</a> à cette fin.</p>
<h1 data-number="2" id="vocabulaire"><span class="header-section-number">2</span> Vocabulaire</h1>
<ul>
<li><strong>fiche</strong> : rendu d’un fichier Markdown intégré à Cosma.</li>
<li><strong>index</strong> : liste de toutes les fiches intégrées à Cosma.</li>
<li><strong>focus</strong> : limitation de la vue autour d’un nœud pour n’afficher que les nœuds envrionnants, à <a href="#focus">différentes échelles</a>.</li>
<li><strong>vue</strong> : configuration d’affichage du graphe, en fonction des filtres et du focus.</li>
</ul>
<h1 data-number="3" id="installation"><span class="header-section-number">3</span> Installation</h1>
<h2 data-number="3.1" id="pre-requis"><span class="header-section-number">3.1</span> Pré-requis</h2>
<p>Installer <a href="https://nodejs.org/fr/download/">NodeJS</a> version 12 ou supérieure.</p>
<p>Le cosmoscope ne peut être utilisé avec le navigateur web Internet Explorer. Vous pouvez utiliser les navigateurs web suivants, avec une version supérieure ou égale à celle qui est indiquée :</p>
<ul>
<li>Chrome (v.69)</li>
<li>Edge (v.79)</li>
<li>Firefox (v.62)</li>
<li>Opera (v.56)</li>
<li>Safari (v.12)</li>
</ul>
<h2 data-number="3.2" id="telechargement"><span class="header-section-number">3.2</span> Téléchargement</h2>
<p>Télécharger le dépôt git de Cosma en saisissant les commandes ci-dessous dans un terminal, ou en cliquant sur le lien suivant : <a href="https://github.com/hyperotlet/cosma/archive/master.zip" class="uri">https://github.com/hyperotlet/cosma/archive/master.zip</a></p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/hyperotlet/cosma.git</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> cosma</span></code></pre></div>
<h2 data-number="3.3" id="mise-en-route"><span class="header-section-number">3.3</span> Mise en route</h2>
<p>Installer les dépendances nécessaires au bon fonctionnement de l’application avec la commande suivante. Le gestionnaire de dépendances NPM est installé en même temps que NodeJs.</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="ex">npm</span> i</span></code></pre></div>
<h1 data-number="4" id="configuration"><span class="header-section-number">4</span> Configuration</h1>
<p>Le fichier de configuration est une liste de paramètres avec pour chacun une valeur ou une liste de sous-paramètres à renseigner. Le fichier tel qu’il est généré est un modèle des paramètres qui doivent obligatoirement être renseignées pour une configuration valide.</p>
<p>Exécutez la commande suivante pour créer le fichier de configuration (<code>config.yml</code>) s’il n’existe pas déjà. Vous pouvez aussi le supprimer et utiliser cette commande pour réinitialiser le fichier.</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app</span></code></pre></div>
<p>Le fichier de configuration est au <a href="https://sweetohm.net/article/introduction-yaml.html">format YAML</a>. La hiérarchie des paramètres est mise en œuvre par l’indentation, c’est-à-dire la présence d’espaces en début de ligne. L’utilisation de tabulations dans l’indentation est interdite en YAML. Pour l’unité d’indentation, il est conseillé de choisir un multiple de 2 (2 ou 4) et de s’y tenir pour tout le fichier.</p>
<h2 data-number="4.1" id="parametres-necessaires"><span class="header-section-number">4.1</span> Paramètres nécessaires</h2>
<p>La configuration doit contenir les paramètres suivants.</p>
<dl>
<dt><code>files_origin</code></dt>
<dd>Chemin du répertoire contenant les fichiers Mardown à scanner.
</dd>
<dd>Exemples : <code>./fiches/'</code>, <code>D:\repertoire\</code>
</dd>
<dd>Attention à terminer la chaîne par un slash ou un anti-slash.
</dd>
<dt><code>export_target</code></dt>
<dd>Chemin vers le répertoire d’export du cosmoscope.
</dd>
<dd>Exemple : <code>./'</code>, <code>D:\repertoire\</code>
</dd>
<dd>Attention à terminer la chaîne par un slash ou un anti-slash.
</dd>
<dt><code>record_types</code></dt>
<dd>Listes des types de fiches. Ils apparaissent dans la barre latérale de gauche.
</dd>
<dd>Ils colorent les nœuds dans le graphe et permettent de les filtrer.
</dd>
<dd>Vous devez impérativement renseigner le type <code>undefined</code>.
</dd>
<dd><p>Exemple</p>
<pre><code>record_types:
  undefined: &#39;#546de5&#39;
  très important: red
  fiche de lecture: &#39;rgba(157, 62, 12, 0.7)&#39;
  concepts: &#39;hsl(14, 100%, 80%)&#39;</code></pre>
</dd>
<dt><code>link_types</code></dt>
<dd>Listes des types de relations.
</dd>
<dd>Ils modifient l’apparence des liens dans le graphe.
</dd>
<dd>Vous devez impérativement renseigner le type <code>undefined</code>.
</dd>
<dd>La couleur est spécifiée grâce au paramètre <code>color</code> tandis que la forme de la ligne dépend du paramètre <code>stroke</code> : La ligne peut être simple (<code>simple</code>), constituée de tirets (<code>dash</code>), pointillés (<code>dotted</code>) ou bien doublés (<code>double</code>).
</dd>
<dd><p>Exemple</p>
<pre><code>link_types:
  undefined:
    stroke: simple
    color: grey
  s:
    stroke: dash
    color: &#39;rgba(157, 62, 12, 0.7)&#39;</code></pre>
</dd>
<dt><code>graph_config</code></dt>
<dd>Paramètres d’affichage du graphe.
</dd>
<dd><code>background_color</code> règle la couleur de fond affichée.
</dd>
<dd><code>highlight_color</code> règle la couleur de surbrillance des éléments du graphe selectionnés.
</dd>
<dd><code>text_size</code> règle la taille des titres des nœuds, en pixels
</dd>
<dd><code>position</code> règle les coordonnées du graphe horizontalement (<code>x</code>) et verticalement (<code>y</code>).
</dd>
<dd><code>attraction</code> règle la force qui sépare les nœuds globalement avec le sous-paramètre <code>force</code> et <code>distance_max</code>, mais aussi verticalement (<code>verticale</code>) et horizontalement (<code>horizontale</code>).
</dd>
<dd><code>arrow</code> permet d’afficher (<code>true</code>) ou non (<code>false</code>) des flèches pour orienter le graphe.
</dd>
<dd><p>Exemple</p>
<pre><code>graph_config:
  background_color: white
  highlight_color: red
  position:
    x: 0.5
    y: 0.5
  attraction:
    force: -50
    min: 1
    max: 500
    verticale: 0.1
    horizontale: 0.1
  node:
    size_coeff: 1
  arrows: false</code></pre>
</dd>
</dl>
<h2 data-number="4.2" id="parametres-facultatifs"><span class="header-section-number">4.2</span> Paramètres facultatifs</h2>
<p>Vous pouvez ajouter au fichier de configuration les paramètres suivants :</p>
<dl>
<dt><code>minify</code></dt>
<dd>Désactivé par défaut. Permet de réduire le poids du fichier cosmoscope exporté.
</dd>
<dd>Valeur : <code>true</code> ou <code>false</code>
</dd>
<dt><code>metas</code></dt>
<dd>Vide par défaut. Permet d’ajouter des métadonnées arbitraires dans l’entête du Cosmoscope.
</dd>
<dd><p>Exemple</p>
<pre><code>metas:
  author: Niklas Luhmann
  keywords:
    - Zettelkasten
    - graphe documentaire
  description: Répertoire de fiches en ligne
  url: https://domaine.fr/cosmoscope.html</code></pre>
</dd>
<dt><code>focus_max</code></dt>
<dd>Valeur maximale du focus.
</dd>
<dd>Valeur : de 0 à ∞
</dd>
<dt><code>views</code></dt>
<dd>Liste des vues apparaissant dans la section “Vues” du cosmoscope.
</dd>
<dd>La chaîne suivant le nom de la vue doit être générée par le cosmoscope (bouton “Sauvegarder la vue actuelle”) pour indiquer les instrutions à reproduire (fitres actifs, focus, fiche à afficher).
</dd>
<dd><p>Exemple</p>
<pre><code>views:
  les graphes: eyJyZWNvcmRJZCI6MjAyMTAyMjExNDQ0NTF9
  sujet 2: eyJyZWNvcmRJZCI6MjAyMDA5MzAyMTQ0MDAsImlzb2xhdGVJZCI6IjIwMjAwOTMwMjE0NDAwLTEifQ%3D%3D</code></pre>
</dd>
</dl>
<h2 data-number="4.3" id="exemples-de-configuration"><span class="header-section-number">4.3</span> Exemples de configuration</h2>
<p>La configuration suivante permet de concentrer la visualisation sur le type des relations entre les nœuds. Les relations <code>undefined</code> sont poitillées tandis que les autres sont plus visibles. Nous vous proposons ci-dessous un typologie de relations type <strong>thesaurus</strong> avec des relations spécifique (<code>s</code>), génériques (<code>g</code>) et associées (<code>a</code>).</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode yaml"><code class="sourceCode yaml"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">link_types</span><span class="kw">:</span></span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">undefined</span><span class="kw">:</span></span>
<span id="cb9-3"><a href="#cb9-3" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">stroke</span><span class="kw">:</span><span class="at"> dotted</span></span>
<span id="cb9-4"><a href="#cb9-4" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">color</span><span class="kw">:</span><span class="at"> grey</span></span>
<span id="cb9-5"><a href="#cb9-5" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">s</span><span class="kw">:</span></span>
<span id="cb9-6"><a href="#cb9-6" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">stroke</span><span class="kw">:</span><span class="at"> dash</span></span>
<span id="cb9-7"><a href="#cb9-7" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">color</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;rgba(157, 62, 12, 0.7)&#39;</span></span>
<span id="cb9-8"><a href="#cb9-8" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">g</span><span class="kw">:</span></span>
<span id="cb9-9"><a href="#cb9-9" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">stroke</span><span class="kw">:</span><span class="at"> double</span></span>
<span id="cb9-10"><a href="#cb9-10" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">color</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;rgba(157, 62, 12, 0.7)&#39;</span></span>
<span id="cb9-11"><a href="#cb9-11" aria-hidden="true" tabindex="-1"></a><span class="at">  </span><span class="fu">a</span><span class="kw">:</span></span>
<span id="cb9-12"><a href="#cb9-12" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">stroke</span><span class="kw">:</span><span class="at"> simple</span></span>
<span id="cb9-13"><a href="#cb9-13" aria-hidden="true" tabindex="-1"></a><span class="at">    </span><span class="fu">color</span><span class="kw">:</span><span class="at"> </span><span class="st">&#39;rgba(157, 62, 12, 0.7)&#39;</span></span></code></pre></div>
<h2 data-number="4.4" id="commandes"><span class="header-section-number">4.4</span> Commandes</h2>
<p>Les commandes suivantes vous permettent d’agir rapidement sur la configuration.</p>
<p>Modifier le chemin vers les fichiers sources :</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app import <span class="op">&lt;</span>chemin<span class="op">&gt;</span></span></code></pre></div>
<p>Modifier le chemin d’export du cosmoscope :</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app export <span class="op">&lt;</span>chemin<span class="op">&gt;</span></span></code></pre></div>
<p>Ajouter des types valides :</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app atype <span class="op">&lt;</span>nom<span class="op">&gt;</span> <span class="op">&lt;</span>couleur<span class="op">&gt;</span></span></code></pre></div>
<p>Ajouter des vues :</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app aview <span class="op">&lt;</span>nom<span class="op">&gt;</span> <span class="op">&lt;</span>code<span class="op">&gt;</span></span></code></pre></div>
<h1 data-number="5" id="utilisation-du-cosmographe"><span class="header-section-number">5</span> Utilisation du cosmographe</h1>
<h2 data-number="5.1" id="creer-des-fiches"><span class="header-section-number">5.1</span> Créer des fiches</h2>
<p>Pour créer une nouvelle fiche (une fois l’<a href="#">installation</a> et la <a href="#">configuration</a> effectuées) vous pouvez entrer l’une des deux commandes suivantes. Vous pouvez également créer un fichier Markdown par d’autres moyens, tant que vous respecter le modèle de fichier présenté plus bas.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app record</span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app autorecord <span class="op">&lt;</span>titre<span class="op">&gt;</span> <span class="op">&lt;</span>type<span class="op">&gt;</span> <span class="op">&lt;</span>mots-clés<span class="op">&gt;</span></span></code></pre></div>
<p><code>&lt;type&gt;</code> doit correspondre à l’un des types définis dans la configuration. <code>&lt;mots-clés&gt;</code> est une liste de mots-clés séparés par des virgules (sans espaces).</p>
<p>Ces commandes génèrent un fichier mardkdown (<code>.md</code>) avec le contenu suivant. En entête le YAML Front Matter (entre les deux <code>---</code>) contenant le title (<code>title</code>) de la fiche, son identifiant unique (<code>id</code>), son type (<code>type</code>) et ses mots-clés (<code>tags</code>). Après l’entête, vous pouvez librement inscrire votre contenu :</p>
<pre><code>---
title: Titre du document
id: 20201209111625
type: undefined
tags:
  - tag 1
  - tag 2
---

</code></pre>
<p>Ces différents champs sont libres, vous pouvez y renseigner ce que vous voulez et même ajouter des champs qui ne sont pas de cette liste. Par exemple un champ <code>description</code>. Les champs <code>type</code> et <code>tags</code> ne sont pas obligatoires. Une fiche ne peut être assignée qu’à un seul type, mais peut disposer d’autant de tags que vous souhaitez. Attention à bien entrer une série de chiffres unique comme l’identifiant. Par défaut, Cosma génère des identifiants à 14 chiffres par horodatage (année, mois, jour, heure, minute et seconde) sur le modèle de certains logiciels de prise de notes type Zettelkasten comme <a href="https://zettelkasten.de/the-archive/">The Archive</a> ou <a href="https://www.zettlr.com">Zettlr</a>. Si le champ <code>type</code> n’est pas spécifié ou bien que sa valeur ne correspond à l’un des type enregistré dans la configuration sous la paramètre <code>record_types</code>, la valeur de la fiche sera <code>undefined</code>.</p>
<h2 data-number="5.2" id="creer-des-liens"><span class="header-section-number">5.2</span> Créer des liens</h2>
<p>À l’intérieur des fiches, vous pouvez créer des liens avec l’identifiant de la fiche cible entre double crochets (ex : <code>[[20201209111625]]</code>). Vous pouvez également donner un type à ce lien selon la typologie dressée dans la configuration. Pour cela vous devez inscrire le nom du type dans le lien tel que <code>[[type:20201209111625]]</code>.</p>
<h2 data-number="5.3" id="export"><span class="header-section-number">5.3</span> Export</h2>
<p>Générer un cosmoscope avec l’une de ces commandes :</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app modelize</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a><span class="ex">node</span> app</span></code></pre></div>
<p>Le fichier <code>cosmoscope.html</code> est exporté dans le répertoire défini dans la configuration. Il écrasera un fichier éponyme au même emplacement. Ce fichier est également copié dans le répertoire <code>/history</code>, dans un sous-répertoire portant la date du jour et avec les données modélisées au format JSON.</p>
<h1 data-number="6" id="utilisation-du-cosmoscope"><span class="header-section-number">6</span> Utilisation du cosmoscope</h1>
<!-- Description générale, portabilité -->
<p>L’affichage n’est pas adapté pour les petits écrans, comme avec les mobiles et petite tablettes.</p>
<h2 data-number="6.1" id="graphe"><span class="header-section-number">6.1</span> Graphe</h2>
<p>Le graphe est l’ensemble de nœuds interreliés. Les nœuds correspondent aux fiches et leurs liaisons aux liens qu’elles intègrent. En dessous de chaque nœud on peut lire le titre de la fiche à laquelle il est lié.</p>
<p>Cliquer sur un nœud le met en surbrillance, ainsi que ses connexions, et ouvre la fiche correspondante. Un bouton <em>Annuler surbrillance</em> apparaitra en bas à gauche du graphe vous permettant de retirer l’effet.</p>
<p>Avec un clic maintenu sur un nœud, vous pouvez le déplacer et ainsi <em>tirer</em> l’ensemble de son réseau.</p>
<h3 data-number="6.1.1" id="navigation"><span class="header-section-number">6.1.1</span> Navigation</h3>
<p>Vous pouvez zoomer dans le graphe grâce à la molette de votre souris ou bien avec le boutons dédiés, situés en bas à gauche du graphe. Au même endroit, le bouton <em>Recentrer</em> vous permet de retrouver votre point de vue original.</p>
<!-- À compléter. Zoom etc. -->
<h2 data-number="6.2" id="index"><span class="header-section-number">6.2</span> Index</h2>
<p>Il s’agit de la liste des fiches sous forme d’un menu déroulant. Il est située dans le menu latéral gauche. Un badge à droite indique le nombre de fiche au total. Un bouton vous permet de trier l’affichage dans l’ordre alphabétique (de manière croissante ou décroissante). Cliquer sur un titre sélectionne le nœud correspondant dans le graphe et ouvre la fiche correspondante.</p>
<p>L’index s’actualise avec l’affichage du graphe : les filtres et le focus agissent également sur l’index.</p>
<h2 data-number="6.3" id="moteur-de-recherche"><span class="header-section-number">6.3</span> Moteur de recherche</h2>
<p>C’est un champ de texte situé en haut du menu latéral gauche. Il vous suggère une liste de fiches dont le titre proche de votre saisie. Cette liste est établie en fonction des filtres et du focus actifs.</p>
<!-- Préciser la bibliothèque sous-jacente ? -->
<p>Cliquer sur une suggestion sélectionne le nœud correspondant dans le graphe et ouvre la fiche correspondante.</p>
<h2 data-number="6.4" id="filtres"><span class="header-section-number">6.4</span> Filtres</h2>
<p>C’est la liste des types de fiche, située en haut du menu latéral gauche. Pour qu’un filtre apparaisse dans le menu, il doit être enregistré dans votre configuration, mais aussi être le type désigné d’au moins une fiche. À la droite de chaque filtre, vous retrouvez le nombre de fiches qu’il affecte.</p>
<p>Cliquer sur un filtre permet de masquer ou de réafficher les fiches du type correspondant dans le graphe, l’index et les suggestions du moteur de recherche.</p>
<h2 data-number="6.5" id="mots-cles"><span class="header-section-number">6.5</span> Mots-clés</h2>
<p>Cette liste dépend de tous les éléments que vous avez saisi dans les champs <code>tags</code> de vos fiches. Elle est située dans le menu latéral gauche. Séléctionner un mot-clé met en surbrillance dans le graphe toutes les fiches liées. Le nombre de fiches liées est affiché au droite du mot-clé.</p>
<h2 data-number="6.6" id="vues"><span class="header-section-number">6.6</span> Vues</h2>
<p>À tout moment, l’état de l’interface (fiche sélectionnée, filtres actifs, mode focus) peut être sauvegardé pour un accès rapide et partageable. Cliquer sur le bouton « Sauvegarder la vue » insère un code dans le presse-papier de l’utilisateur. Ce code (en base 64) peut être ajouté dans le fichier de configuration : ceci ajoute un bouton vers la vue en question dans les cosmoscopes générés ultérieurement.</p>
<p>Exemple :</p>
<pre><code>views:
  Une vue intéressante: eyJwb3MiOnsieCI6MCwieSI6MCwiem9vbSI6MX19</code></pre>
<h2 data-number="6.7" id="parametres-du-graphe"><span class="header-section-number">6.7</span> Paramètres du graphe</h2>
<p>C’est la liste des différents outils de configuration visuelle du graphe. Il s’agit de définir différents paramètres dont les valeurs par défaut peuvent être modifiées dans le fichier de configuration (pour retrouver à chaque export la même configuration visuelle).</p>
<ul>
<li>les différentes forces simulées par l’algorithme de dessin du graphe,</li>
<li>la position du graphe dans l’espace de la page,</li>
<li>la taille du titre des nœuds.</li>
</ul>
<h2 data-number="6.8" id="fiches"><span class="header-section-number">6.8</span> Fiches</h2>
<p>Les fiches sont présentées dans un volet latéral qui permet de consulter leur contenu, de naviguer dans le graphe via les liens et de modifier son affichage.</p>
<p>Séléctionner une fiche (depuis le graphe, l’index ou depuis un lien)</p>
<ul>
<li>affiche son contenu dans le volet,</li>
<li>enregistrer son identifiant dans l’adresse de la page (permettant de la retrouver dans l’historique du navigateur, de partager l’adresse en ligne ou encore de la mettre de côté en dupliquant l’onglet).</li>
</ul>
<p>Cliquer sur le bouton « Fermer » referme le volet et désélectionne le nœud correspondant dans le graphe, sans changer l’adresse de la page.</p>
<h3 data-number="6.8.1" id="liens"><span class="header-section-number">6.8.1</span> Liens</h3>
<p>Le contenu de la fiche est suivi d’une liste des fiches vers lesquelles elle renvoie (liens sortants) et des fiches qui pointent vers elle (liens entrants ou rétroliens).</p>
<p>Les liens que vous avez intégré à votre fichier texte apparaissent bleus, entre les mêmes crochets et soulignés. Vous pouvez ouvrir ces liens dans un nouvel onglet.</p>
<h3 data-number="6.8.2" id="focus"><span class="header-section-number">6.8.2</span> Focus</h3>
<p>Cliquer sur les différents niveaux de focus permet de modifier l’affichage du graphe pour isoler le nœud correspondant à la fiche. Le bouton <code>1</code> isole la fiche et ses connexions immédiates (distance = 1). Les boutons suivants étendent le rayon (<code>focus</code>) aux connexions situées à plusieurs liens de distance jusqu’au maximum permis par le paramètre <code>focus_max</code> du fichier de configuration.</p>
<h1 data-number="7" id="credits"><span class="header-section-number">7</span> Crédits</h1>
<h2 data-number="7.1" id="equipe"><span class="header-section-number">7.1</span> Équipe</h2>
<ul>
<li><a href="https://www.arthurperret.fr/">Arthur Perret</a> (chef de projet)</li>
<li><a href="https://myllaume.fr/">Guillaume Brioudes</a> (développeur)</li>
<li><a href="http://www.guidedesegares.info/">Olivier Le Deuff</a> (chercheur)</li>
<li><a href="https://mica.u-bordeaux-montaigne.fr/borel-clement/">Clément Borel</a> (chercheur)</li>
</ul>
<h2 data-number="7.2" id="bibliotheques-utilisees"><span class="header-section-number">7.2</span> Bibliothèques utilisées</h2>
<p>Pour améliorer la maintenabilité et la lisibilité du code source, l’équipe de développement a recouru aux bibliothèques suivantes.</p>
<!-- liste des dépendances sur le modèle suivant :

- [Nom](lien) version (licence) : description

-->
<ul>
<li><a href="https://d3js.org/">D3</a> v4.13.0 (BSD 3-Clause) : Génération du graphe</li>
<li><a href="https://mozilla.github.io/nunjucks/">Nunjucks</a> v3.2.3 (BSD 2-Clause) : Génération du template du Cosmoscope</li>
<li><a href="https://github.com/nodeca/js-yaml">Js-yaml</a> v3.14.0 (MIT License) : Lecture du fichier de configuration et écriture des YAML Front Matter</li>
<li><a href="https://github.com/dworthen/js-yaml-front-matter">Js-yaml-front-matter</a> v4.1.0 (MIT License) : Lecture des YAML Front Matter des fichiers Markdown</li>
<li><a href="https://github.com/markdown-it/markdown-it">Markdown-it</a> v12.0.2 (MIT License) : Conversion Markdown → HTML</li>
<li><a href="https://www.npmjs.com/package/markdown-it-attrs">Markdown-it-attrs</a> v4.0.0 (MIT License) : Traitement des hyperliens Markdown au sein des fiches</li>
<li><a href="https://github.com/wilsonzlin/minify-html">Minify-html</a> v0.4.3 (MIT License) : Allègement du Cosmoscope</li>
<li><a href="https://fusejs.io/">Fuse-js</a> v6.4.6 (Apache License 2.0) : Moteur de recherche</li>
<li><a href="https://momentjs.com/">Moment</a> v2.29.1 (MIT License) : Gestion de l’horodatage</li>
</ul>
<h2 data-number="7.3" id="historique-du-projet"><span class="header-section-number">7.3</span> Historique du projet</h2>
<dl>
<dt>Août 2020</dt>
<dd>Expérimentation du “Lexicographe” dans l’interface de l’<a href="https://github.com/hyperotlet/otletosphere">Otletosphère</a> avec les données d’un premier scanner de fichiers Mardown.
</dd>
<dt>Décembre 2020</dt>
<dd>Début du développement de Cosma avec un nouveau cahier des charges.
</dd>
<dt>Avril 2021</dt>
<dd>Finalisation de la première version de Cosma.
</dd>
</dl>
</article>
</main>



</body>

</html>